<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title class="notranslate"> Caf√© Hostel</title>
    <%= csrf_meta_tags %>
    <%= favicon_link_tag 'cafehostel.ico' %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <%= render 'partials/sidebar' %>
    <%= render 'partials/navbar' %>
    <%= render 'partials/overlay' %>
    <%= yield %>
    <%= render 'partials/livechat' %>
    <%= render 'partials/footer' %>
    <%= javascript_include_tag 'booking.js' %>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49861311-1"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49861311-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-49861311-1');
    </script>
    <!-- END: Global site tag (gtag.js) - Google Analytics -->

    <!-- Facebook Pixel Code -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '1433213603461762');
      fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id=1433213603461762&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->

    <script>
      $(document).ready(function(){
        if (window.innerWidth < 600) {
          $("#booking").data("need-validation", false);
        } else {
          $("#booking").data("need-validation", true);
        }
        $(window).scroll(function() {
          var searchBar = $("#fixedBookingRow");
          if (searchBar.length > 0) {

            var searchBarHeight = parseInt(searchBar.css("height").replace("px", ""));
            var searchBarPosition = $("#fixedBookingRow").position()['top'];
            var bodyScrollTop = $(this).scrollTop();

            if (bodyScrollTop > searchBarHeight + searchBarPosition) {
              if ($(window).width() < 600) {
                $(".mobileAndWidthSmallHide").hide();
                $("#booking").attr("href", "https://booking.cafehostel.com.br/en/hqb/drjl9zZq6b/availability");
                $("#booking").attr("target", "_blank");
                $("#booking").data("need-validation", false);
              } else {
                $("#booking").removeAttr("href");
                $("#booking").removeAttr("target");
                $(".mobileAndWidthSmallHide").show();
                $("#booking").data("need-validation", true);
              }
              $("#fixedBookingRow").slideDown("fast");
              $("#fixedBookingRow").css("position", "fixed");
              $("#fixedBookingRow").css("top", "0");
              $("#fixedBookingRow").css("right", "0");
              $("#fixedBookingRow").css("left", "0");
              $("#fixedBookingRow").css("margin", "auto");
              $("#fixedBookingRow").css("z-index", "100");
              $("#fixedBookingRow").css("backgroundColor", "rgba(0,0,0,0.9)");
              $(".bookRowInside").css("marginBottom", '0px');
              $(".bookRowInside").css("marginTop", '10px');
              $(".bookRow").css("marginBottom", '0px');
              $(".input-field .material-icons.prefix").css('color', 'white');

            }
            else {
              var display = $(".mobileAndWidthSmallHide").css('display');
              if ($(window).width() < 425) {
                $(".mobileAndWidthSmallHide").show();
              }
              else if ($(window).width() > 425 && display == "none") {
                $(".mobileAndWidthSmallHide").show();
              }
              $("#fixedBookingRow").css("backgroundColor", "transparent");
              $("#fixedBookingRow").css("position", "relative");
              $("#fixedBookingRow").css("margin-bottom", "20vh");
              $(".bookRowInside").css("marginBottom", '20px');
              $(".bookRow").css("marginBottom", '20px');
              $(".input-field .material-icons.prefix").css('color', "rgba(0, 0, 0, 0.87)");
            }
          }
        });
      });
    </script>
  </body>
</html>
